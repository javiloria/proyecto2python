# Generated by Django 3.0.1 on 2019-12-28 22:37

#para generar los primeros datos
from django.db import migrations
from django.contrib.auth.hashers import make_password #para encriptar contraseña

def createTermin(app, schema_editor):
    Termin = app.get_model('gestorAppTG','Termin')
    Termin.objects.create(id="201915", descripcion='primer semestre del año académico')
    Termin.objects.create(id="201925", descripcion='segundo semestre del año académico')

def createUsers(app, schema_editor):
    User = app.get_model('gestorAppTG','User')
    User.objects.create(
        username="admin",
        password=make_password("admin123"),
        esAdmin=True
    )
    User.objects.create(
        username="Gestor",
        password=make_password("gestor123"),
        esManager=True
    )
    User.objects.create(
    	username="invitado",
        password=make_password("invitado123"),
        esInvitado=True
    )

def createEstatusPropuesta(app, schema_editor):
    EstatusPropuesta = app.get_model('gestorAppTG', 'EstatusPropuesta')
    EstatusPropuesta.objects.create(nombre='Por evaluar')
    EstatusPropuesta.objects.create(nombre='Diferida')
    EstatusPropuesta.objects.create(nombre='Aprobada')
    EstatusPropuesta.objects.create(nombre='Rechazada')

def createEstatusTG(app, schema_editor):
    EstatusTG = app.get_model('gestorAppTG', 'EstatusTG')
    EstatusTG.objects.create(nombre='Por entregar')
    EstatusTG.objects.create(nombre='Entregado y pendiente por defender')
    EstatusTG.objects.create(nombre='Diferido')
    EstatusTG.objects.create(nombre='Aprobado')
    EstatusTG.objects.create(nombre='Aprobado con solicitud de correcciones')
    EstatusTG.objects.create(nombre='Rechazado')

def createEscuelas(app, schema_editor):
    Escuela = app.get_model('gestorAppTG', 'Escuela')
    Escuela.objects.create(nombre='Ingeneria Informatica')
    Escuela.objects.create(nombre='Ingeneria Telecomunicaciones')
    Escuela.objects.create(nombre='Ingeneria Civil')
   
class Migration(migrations.Migration):

    dependencies = [
        ('gestorAppTG', '0001_primera_migracion'),
    ]

    operations = [
        migrations.RunPython(createTermin),
        migrations.RunPython(createUsers),
        migrations.RunPython(createEstatusPropuesta),
        migrations.RunPython(createEstatusTG),
        migrations.RunPython(createEscuelas)
    ]
